<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	
	<h:head>
    <h:outputStylesheet library="css" name="c3.css"  />
    <h:outputScript library="js" name="/c3/c3.min.js" target="head" />
    <h:outputScript library="js" name="/d3/d3.min.js" target="head" />
    </h:head>
	
<h:body>
	<ui:composition>


    <div id="#{id}"></div>
    
     <script>
     /* var bizname_array = document.getElementById('form1:bizStringAry').value
     var biz_fields_ary = bizname_array.split(",") */
     var chart = c3.generate({
    bindto: '##{id}',
    data: {
        x : 'x',
        columns: [
            ['x',
             <ui:repeat value="#{groupsNames}" var="item" layout="simple">
            '#{item}',
            </ui:repeat> ],
           
             
             <ui:repeat value="#{entries.entrySet().toArray()}" var="entry" layout="simple">
             '#{entry.key}'
             <!--['#{fn:replace(fn:replace(fn:replace(entry, '\\{', ''),'\\}',''),'=','\',')}
             ,] -->
             </ui:repeat>
             ],
        type: '#{chartType}',
        colors: {
        	<ui:repeat value="#{colorEntries}" var="colorEntry" layout="simple">
            '#{colorEntry}'<!--,:
            '<h:outputText value="#{fn:replace(colorEntry.value, '\\[', '')}" />' -->
            ,
            </ui:repeat>
        },
        
    },
   axis: {
        x: {
            type: 'category' // we  need this proptery  to load string x value (Bar Labels)
        }
       // rotated: true
    }
   
});
    </script>


	</ui:composition>
</h:body>
</html>